<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <title>Controlled Forms</title>
</head>
<body>
  <h1>Controlled Forms</h1>

  <div id='root'></div>
  <hr>
  <div id='root2'></div>
  

<script type='text/babel'>
  const ControlledLoginForm = () => {
    const [formData, setFormData] = React.useState({})
    const handleOnChange = (e) => {
      setFormData({
        ...formData,
        [e.target.name]: e.target.value
      })
      console.log(formData, e.target.name)
    }
    const handleOnSubmit = e => {
      e.preventDefault()
      console.log(JSON.stringify(formData))
    }

    return (
      <div>
        <div>
          <label htmlFor="email">Email</label>
          <input 
            type="email"
            name='email'
            className='input'
            placeholder='Enter Email'
            value={formData.email}
            onChange={e => handleOnChange(e)} />
        </div>
        <div>
          <label htmlFor="password">Password</label>
          <input 
          type="password"
          name='password'
          data-property='password'
          className='input'
          placeholder='Enter Password'
          value={formData.password}
          onChange={e => handleOnChange(e)}
          />
        </div>
        <div>
          <label htmlFor="addres">Address</label>
          <input 
          type="text"
          name='address'
          className='input'
          placeholder='Enter Address'
          value={formData.address}
          onChange={e => handleOnChange(e)}
          />
        </div>
        <button type='Submit' onClick={handleOnSubmit}>Submit
        </button>
      </div>
    )
  }


  ReactDOM.render(<ControlledLoginForm />, document.getElementById('root'));



  const UncontrolledLoginForm = () => {
    let email = React.useRef()
    let password = React.useRef()
    let address = React.useRef()

    const handleOnSubmit = e => {
      e.preventDefault()
      let myForm = {
        email: email.current.value,
        password: password.current.value,
        address: address.current.value
      }
      console.log(JSON.stringify(myForm))
    }

    return (
      <div>
        <div>
          <label htmlFor="email">Email</label>
          <input 
            type="email"
            name='email'
            className='input'
            placeholder='Enter Email'
            ref={email}
            />
        </div>
        <div>
          <label htmlFor="password">Password</label>
          <input 
          type="password"
          name='password'
          data-property='password'
          className='input'
          placeholder='Enter Password'
          ref={password}
          />
        </div>
        <div>
          <label htmlFor="addres">Address</label>
          <input 
          type="text"
          name='address'
          className='input'
          placeholder='Enter Address'
          ref={address}
          />
        </div>
        <button type='Submit' onClick={handleOnSubmit}>Submit
        </button>
      </div>
    )
  }

  ReactDOM.render(<UncontrolledLoginForm />, document.getElementById('root2'));

</script>

</body>
</html>
